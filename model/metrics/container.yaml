groups:
  # container.cpu.* metrics and attribute group
  - id: attributes.container.cpu
    prefix: container.cpu
    type: attribute_group
    brief: "Describes Container CPU metric attributes"
    attributes:
      - id: state
        brief: "The CPU state for this data point. A container SHOULD be characterized _either_ by data points with no `state` labels, _or only_ data points with `state` labels."
        type:
          allow_custom_values: false
          members:
            - id: user
              value: 'user'
              brief: "When tasks of the cgroup are in user mode (Linux). When all container processes are in user mode (Windows)."
            - id: system
              value: 'system'
              brief: "When CPU is used by the system"
            - id: kernel
              value: 'kernel'
              brief: "When tasks of the cgroup are in kernel mode (Linux). When all container processes are in kernel mode (Windows)."
        examples: ["user", "kernel"]
  - id: metric.container.cpu.time
    type: metric
    metric_name: container.cpu.time
    brief: "Total CPU time consumed"
    note: >
      Total CPU time consumed by the specific container.
    instrument: counter
    unit: "ns"
    attributes:
      - ref: container.cpu.state
        requirement_level: opt_in
      - ref: container.id

    # container.memory.* metrics and attribute group
  - id: metric.container.memory.usage
    type: metric
    metric_name: container.memory.usage
    brief: "Memory usage of the container."
    note: >
      Memory usage of the container.
    instrument: counter
    unit: "By"
    attributes:
      - ref: container.id

  # container.disk.io.* metrics and attribute group
  - id: metric.container.disk.io
    type: metric
    metric_name: container.disk.io
    brief: "Disk bytes for the container."
    note: >
      The total number of bytes read/written
      successfully (aggregated from all disks).
    instrument: counter
    unit: "By"
    attributes:
      - ref: container.id
      - ref: disk.io.direction

  # container.network.io.* metrics and attribute group
  - id: metric.container.network.io
    type: metric
    metric_name: container.network.io
    brief: "Network bytes for the container."
    note: >
      The number of bytes sent/received
      on all network interfaces
      by the container.
    instrument: counter
    unit: "By"
    attributes:
      - ref: container.id
      - ref: network.io.direction
